
<h1>Coding</h1>
<pre><code>

#include <SPI.h> //Serial Peripheral Interface (SPI) is a synchronous serial data protocol 
#include <Wire.h> //Communicate with I2C / TWI devices.

#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#include "DHT.h"

#define DHTPIN 2     // Digital pin connected to the DHT sensor

#define DHTTYPE DHT11  // DHT 11

#define SCREEN_WIDTH 128 // OLED 寬度像素
#define SCREEN_HEIGHT 64 // OLED 高度像素

#define OLED_RESET     4 // Reset pin # (or -1 if sharing Arduino reset pin)

DHT dht(DHTPIN, DHTTYPE);  //繼承及建立DHT11物件並命名為dht

// 設定OLED

Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET); //繼承及建立OLED物件並命名為display

//自訂圖形，從Image2LCD轉過來的，尺寸是128x64
static const unsigned char PROGMEM logo_draw[] =
{ 
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X06,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X06,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X0F,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X1F,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X3F,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X7F,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X01,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X03,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X07,0XFF,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X07,0XFF,0XFE,0X00,0X00,0X00,0X02,0X00,0X00,0X10,0X00,0X00,0X00,0X00,
0X00,0X00,0X0F,0XFF,0XFE,0X00,0X00,0X00,0X03,0X00,0X00,0X38,0X00,0X18,0XFE,0X00,
0X00,0X00,0X0F,0XFF,0XFF,0X00,0X00,0X00,0X07,0XFF,0XE0,0X7F,0XC0,0X18,0XFE,0X00,
0X00,0X00,0X0F,0XFF,0XFF,0X00,0X00,0X00,0X0C,0X00,0X01,0XC1,0X80,0X32,0XC2,0X00,
0X00,0X00,0X0F,0XFF,0XFF,0X00,0X00,0X00,0X1D,0XFF,0XC3,0XFF,0XF0,0X36,0XC2,0X00,
0X00,0X00,0X0F,0XFB,0XFF,0X00,0X00,0X00,0X18,0X00,0X03,0XFF,0XF0,0X7E,0XC2,0X00,
0X00,0X00,0X0F,0XFB,0XFF,0X00,0X00,0X00,0X07,0XFF,0X81,0X86,0X10,0X7C,0XFE,0X00,
0X00,0X00,0X0F,0XF9,0XFE,0X00,0X00,0X00,0X07,0XFF,0X81,0XFF,0XF0,0X18,0XC2,0X00,
0X00,0X00,0X07,0XF9,0XFE,0X00,0X00,0X00,0X04,0XC9,0X80,0X1C,0X00,0X36,0XC2,0X00,
0X01,0XFC,0X07,0XF9,0XFE,0X07,0XF8,0X00,0X06,0XD9,0X80,0XFC,0X10,0X36,0XC2,0X00,
0X07,0XFF,0X07,0XF9,0XFE,0X1F,0XFE,0X00,0X00,0XC1,0X83,0XCE,0X70,0XFE,0XFE,0X00,
0X0F,0XFF,0XC3,0XF9,0XFC,0X3F,0XFF,0X00,0X1F,0XFF,0X80,0X3B,0XC0,0X72,0XFE,0X00,
0X1F,0XFF,0XE3,0XF9,0XFC,0X7F,0XFF,0X80,0X00,0XC1,0X83,0XE7,0X80,0X06,0XC2,0X00,
0X3F,0XEF,0XF3,0XF9,0XFC,0XFF,0XFF,0XC0,0X02,0XD9,0XA3,0X1F,0XC0,0X7A,0XC2,0X00,
0X3F,0X9F,0XF9,0XF5,0XF9,0XFD,0XAF,0XC0,0X0E,0XDD,0XA0,0XF3,0X78,0X5A,0XC2,0X00,
0X7E,0X07,0XF9,0XF5,0XF9,0XFF,0XAF,0XE0,0X1C,0XCE,0XE3,0X9F,0X1C,0XD9,0XFF,0X80,
0X7F,0X8F,0XFD,0XF6,0XF3,0XFB,0X07,0XE0,0X00,0XC4,0XC0,0X1E,0X00,0X51,0XFF,0X00,
0X7E,0X53,0XFC,0XF6,0XF3,0XFD,0XEF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0X0F,0XFE,0XF6,0XF7,0XFF,0X31,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0X0F,0XFE,0XF6,0XE7,0XFC,0X9B,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0X6F,0XFF,0X76,0XEF,0XFB,0X87,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0XFF,0XFF,0X76,0XEF,0XFF,0XFF,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X3F,0XFF,0XFF,0X76,0XCF,0XFF,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X3F,0XFE,0X3F,0XA6,0XDF,0XC7,0XFF,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X1F,0XF8,0X0F,0XAE,0XDF,0X01,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X1F,0XF0,0X0F,0XAE,0XDE,0X00,0XFF,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X07,0XF0,0X07,0XAF,0X3E,0X00,0XFE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X03,0XE0,0X3F,0XFF,0XFF,0X80,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X2C,0XE7,0X12,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X27,0XB6,0XB8,0X40,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X3F,0XF7,0X5A,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X1F,0XFF,0XFF,0X80,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X07,0XCE,0XBE,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X03,0X0F,0XF6,0XBF,0X08,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X03,0XFF,0XB6,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X03,0XFF,0XB6,0XDF,0XF8,0X00,0X00,0X08,0X9D,0XEF,0X31,0X10,0X73,0XC7,0X00,
0X00,0X01,0XFF,0X35,0XDF,0XF8,0X00,0X00,0X0D,0X90,0X48,0X31,0XB0,0X8A,0X28,0X00,
0X00,0X01,0XFF,0X79,0XCF,0XF8,0X00,0X00,0X0D,0X9C,0X4E,0X29,0XB0,0X8A,0X48,0X00,
0X00,0X00,0XFC,0X79,0XE7,0XF0,0X00,0X00,0X0C,0X90,0X48,0X79,0XB0,0X8A,0X89,0X00,
0X00,0X00,0X30,0X79,0XE1,0XC0,0X00,0X00,0X0A,0X90,0X48,0X49,0X52,0XCA,0X49,0X00,
0X00,0X00,0X00,0XFF,0XF0,0X00,0X00,0X00,0X0A,0X9C,0X4F,0X45,0X52,0X32,0X27,0X00,
0X00,0X00,0X00,0XFF,0XF0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X01,0XFF,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X03,0XFF,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X7F,0XE0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
};

void setup() 
{
  Serial.begin(9600);
  Serial.println(F("DHTxx test!"));

  dht.begin();

  if(!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { // 一般1306 OLED的位址都是0x3C
    Serial.println(F("SSD1306 allocation failed"));
    for(;;); // Don't proceed, loop forever
  }

    // 清除畫面
  display.clearDisplay();

  drawingtest();    // 顯示圖形
}

void loop() 
{
    // 清除畫面
  display.clearDisplay();

  drawingtest();    // 顯示圖形
  delay(2000);
  display.clearDisplay();
  delay(2000);
  
  float h = dht.readHumidity();

  float t = dht.readTemperature();

  float f = dht.readTemperature(true);

  float hif = dht.computeHeatIndex(f, h);

  float hic = dht.computeHeatIndex(t, h, false);

  Serial.print(F("Humidity: "));
  Serial.print(h);
  Serial.print(F("%  Temperature: "));
  Serial.print(t);
  Serial.print(F("°C "));
  Serial.print(f);
  Serial.print(F("°F  Heat index: "));
  Serial.print(hic);
  Serial.print(F("°C "));
  Serial.print(hif);
  Serial.println(F("°F"));

display.clearDisplay();
display.setTextColor(1);
display.setTextSize(2);
display.setCursor(0,0);             // 設定起始座標
display.println("Humidity:");        // 要顯示的字串
display.println(h+String("%"));        // 要顯示的字串
//display.setCursor(0,40);             // 設定起始座標
display.println("Temp:");    // 要顯示的字串
display.print(t);
display.print((char)247+String("C"));// 要顯示的字串

display.display();  // 要有這行才會把文字顯示出來
    delay(5000);
}

void drawingtest(void) 
{
  display.clearDisplay();
  //顯示圖形，x,y,圖形文字,寬,高,1:OLED預設的顏色(這個會依該OLED的顏色來決定)
  display.drawBitmap(0,0,logo_draw, 128, 64, 1);
  display.display();  // 要有這行才會把文字顯示出來
  delay(1000);
}
 
</code></pre>
